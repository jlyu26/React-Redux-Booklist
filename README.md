# Redux Book List

## Design

<img width="289" alt="book" src="https://user-images.githubusercontent.com/20265633/35259962-bd56de34-ffd6-11e7-8f7b-df0340ffdedf.PNG">

The app is divided into two separate parts: the data that powers the app, and the views that display that data. We want to separate the views in our application from the data in our application. **Redux** is the data contained inside this application box, whereas **React** is the views contained in the application box. 

When Redux describes itself as a **state container**, it means a collection of all the data that describes the app that not only includes the hard data, like the list of books, but it also includes more meta-level properties, like the currently selected book. React on the other hand represents the views, which translates the app's data into something that can be displayed on the screen and user can acturally interact with. 

The difference from other frameworks (Anguar, Backbone, etc.) is here we **centralize all of the application's data inside of a single object, which referred to as the state**. One of the most important parts of creating a Redux application is figuring out how to design state.

## Terminologies

**1. Reducer**

**A reducer is a function that returns a piece of the application state.** Because our application can have different piecs of states, we can have many different reducers. 

```jsx
// Application State - Generated by Reducers - is a plain JavaScript object
{
	books: [{title: 'Harry Potter'},{title: 'JavaScript'}],	// value returned by reducer "BookReducer"
	activeBook: {title: 'JavaScript: The Good Parts'} // value returned by reducer "ActiveBookReducer"
}
```

Two keys, can be whatever names, and the values of states are produced by two reducers.

A reducer is created on application in a two step process: 1. create the reducer; 2. wire it into application.

combineReducers() [(Document)](https://redux.js.org/docs/api/combineReducers.html#combinereducersreducers) function from Redux can be considered as mapping of state. It adds a key "books" to our global application state, and the value is whatever gets returned from BooksReducer, which in this case is an array of books.

```jsx
const rootReducer = combineReducers({	// centralize all of the application's data/state inside of a single object
  books: BooksReducer,
  // anotherKey: AnotherReducer
  // ...
});

export default rootReducer;
```

**2. React Redux: Combine React Views and Redux State**

React and Redux are two separate libraries, to connect them, use another separate library "React Redux", `npm install --save react-redux`. To make use of "React Redux" we need to promote one of our components as a **container**. The only time we get this bridge available where we can take a React component and **inject state** into it.

**3. Container**

A container, sometimes called **"smart component"** in contrast to regular "dumb components", is a React component that gets bonded to the application state managed by Redux. To indicate the difference, we usually separate them into different directories.

Question: Which components do we promote to be the container and which do we leave as normal components?

Answer: In general, we want the **most parent component** that cares about a particular piece of state to be a container (connect to Redux). 

Whenever we make a container file, we want to export the container (produced by connect()) instead of the plain component.

**4. connect()() function**

connect()() takes a function and a component, and produces a container.

**5. Trace the flow of application**

Reducer generated states object --> State function (mapStateToProps() in book-list.js)  mapped the state as props to component --> During the process state updated, so component rerender the list of books.